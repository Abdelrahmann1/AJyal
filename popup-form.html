<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <title>Popup Form - Ajyal ERP</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --primary: #06A3DA;
            --dark: #091E3E;
            --light: #EEF9FF;
        }
        * { font-family: 'Cairo', sans-serif; }
        body {
            background: linear-gradient(135deg, var(--dark) 0%, #0a2a5e 100%);
            min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            padding: 20px;
        }

        /* â”€â”€ Trigger Button â”€â”€ */
        .trigger-btn {
            background: var(--primary);
            color: #fff; border: none;
            padding: 16px 40px; border-radius: 50px;
            font-size: 18px; font-weight: 700;
            cursor: pointer; transition: .3s;
            box-shadow: 0 8px 30px rgba(6,163,218,.4);
        }
        .trigger-btn:hover { transform: translateY(-3px); box-shadow: 0 12px 40px rgba(6,163,218,.6); }

        /* â”€â”€ Overlay â”€â”€ */
        .popup-overlay {
            position: fixed; inset: 0;
            background: rgba(9,30,62,0.75);
            backdrop-filter: blur(6px);
            z-index: 9998;
            display: flex; align-items: center; justify-content: center;
            padding: 20px;
            opacity: 0; visibility: hidden;
            transition: opacity .35s ease, visibility .35s ease;
        }
        .popup-overlay.open { opacity: 1; visibility: visible; }

        /* â”€â”€ Modal Card â”€â”€ */
        .popup-card {
            background: #fff;
            border-radius: 20px;
            width: 100%; max-width: 560px;
            overflow: hidden;
            transform: translateY(40px) scale(0.95);
            transition: transform .35s cubic-bezier(0.175,0.885,0.32,1.275);
            position: relative;
            box-shadow: 0 30px 80px rgba(0,0,0,0.35);
        }
        .popup-overlay.open .popup-card { transform: translateY(0) scale(1); }

        /* â”€â”€ Header â”€â”€ */
        .popup-header {
            background: linear-gradient(135deg, var(--dark) 0%, #0d3572 100%);
            padding: 30px 35px 25px;
            position: relative;
            overflow: hidden;
        }
        .popup-header::before {
            content: '';
            position: absolute; top: -40px; left: -40px;
            width: 160px; height: 160px; border-radius: 50%;
            background: rgba(6,163,218,.15);
        }
        .popup-header::after {
            content: '';
            position: absolute; bottom: -30px; right: -20px;
            width: 120px; height: 120px; border-radius: 50%;
            background: rgba(6,163,218,.1);
        }
        .popup-header .brand {
            font-size: 26px; font-weight: 800; color: #fff;
            position: relative; z-index: 1;
        }
        .popup-header .brand span { color: var(--primary); }
        .popup-header h3 {
            color: #fff; font-size: 20px; font-weight: 700;
            margin: 8px 0 4px; position: relative; z-index: 1;
        }
        .popup-header p {
            color: rgba(255,255,255,.7); font-size: 14px;
            margin: 0; position: relative; z-index: 1;
        }
        .popup-close {
            position: absolute; top: 18px; left: 18px;
            width: 36px; height: 36px; border-radius: 50%;
            background: rgba(255,255,255,.15); border: none;
            color: #fff; font-size: 16px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: .2s; z-index: 2;
        }
        .popup-close:hover { background: rgba(255,255,255,.3); transform: rotate(90deg); }

        /* â”€â”€ Progress Bar â”€â”€ */
        .progress-wrap { padding: 0 35px; background: var(--dark); }
        .progress-steps {
            display: flex; align-items: center;
            padding: 14px 0; gap: 0;
        }
        .step-dot {
            width: 28px; height: 28px; border-radius: 50%;
            background: rgba(255,255,255,.15);
            display: flex; align-items: center; justify-content: center;
            font-size: 12px; font-weight: 700; color: rgba(255,255,255,.5);
            transition: .3s; flex-shrink: 0;
        }
        .step-dot.active { background: var(--primary); color: #fff; box-shadow: 0 0 0 4px rgba(6,163,218,.3); }
        .step-dot.done { background: #22c55e; color: #fff; }
        .step-line {
            flex: 1; height: 3px;
            background: rgba(255,255,255,.15); border-radius: 2px;
            position: relative; overflow: hidden;
        }
        .step-line .fill {
            position: absolute; top: 0; left: 0; height: 100%;
            background: var(--primary); width: 0%;
            transition: width .4s ease;
        }
        .step-label {
            font-size: 11px; color: rgba(255,255,255,.5);
            text-align: center; margin-top: 6px;
        }
        .step-label.active { color: var(--primary); font-weight: 700; }

        /* â”€â”€ Body â”€â”€ */
        .popup-body { padding: 30px 35px; }

        .form-step { display: none; animation: stepIn .3s ease; }
        .form-step.active { display: block; }
        @keyframes stepIn {
            from { opacity: 0; transform: translateX(-15px); }
            to   { opacity: 1; transform: translateX(0); }
        }

        /* â”€â”€ Inputs â”€â”€ */
        .field-group { margin-bottom: 18px; }
        .field-group label {
            display: block; font-weight: 700; font-size: 14px;
            color: var(--dark); margin-bottom: 7px;
        }
        .field-group label span { color: #ef4444; margin-right: 3px; }
        .form-control, .form-select {
            border: 2px solid #e5e7eb; border-radius: 10px;
            height: 50px; font-family: 'Cairo', sans-serif;
            font-size: 14px; transition: .25s;
            padding: 0 16px;
        }
        textarea.form-control { height: auto; padding: 12px 16px; }
        .form-control:focus, .form-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(6,163,218,.12);
        }
        .form-control.error { border-color: #ef4444; }
        .error-msg { color: #ef4444; font-size: 12px; margin-top: 5px; display: none; }
        .error-msg.show { display: block; }

        /* Input with icon */
        .input-icon { position: relative; }
        .input-icon i {
            position: absolute; top: 50%; transform: translateY(-50%);
            right: 15px; color: #9ca3af; font-size: 15px;
        }
        .input-icon .form-control { padding-right: 42px; }

        /* â”€â”€ Checkboxes â”€â”€ */
        .services-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .service-check {
            border: 2px solid #e5e7eb; border-radius: 10px;
            padding: 10px 14px; cursor: pointer; transition: .25s;
            display: flex; align-items: center; gap: 10px;
        }
        .service-check input { display: none; }
        .service-check .check-box {
            width: 20px; height: 20px; border-radius: 5px;
            border: 2px solid #d1d5db; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
            transition: .2s;
        }
        .service-check input:checked ~ .check-box {
            background: var(--primary); border-color: var(--primary);
        }
        .service-check input:checked ~ .check-box::after {
            content: 'âœ“'; color: #fff; font-size: 12px; font-weight: 700;
        }
        .service-check:has(input:checked) { border-color: var(--primary); background: var(--light); }
        .service-check span { font-size: 13px; font-weight: 600; color: var(--dark); }

        /* â”€â”€ Buttons â”€â”€ */
        .popup-footer {
            display: flex; gap: 10px; justify-content: space-between;
            padding: 0 35px 30px;
        }
        .btn-prev {
            background: #f3f4f6; color: var(--dark);
            border: none; border-radius: 10px;
            padding: 12px 25px; font-weight: 700; font-size: 15px;
            cursor: pointer; transition: .2s; font-family: 'Cairo', sans-serif;
        }
        .btn-prev:hover { background: #e5e7eb; }
        .btn-next {
            background: var(--primary); color: #fff;
            border: none; border-radius: 10px;
            padding: 12px 30px; font-weight: 700; font-size: 15px;
            cursor: pointer; transition: .2s; flex: 1;
            font-family: 'Cairo', sans-serif;
            box-shadow: 0 4px 15px rgba(6,163,218,.3);
        }
        .btn-next:hover { background: #0481ae; transform: translateY(-1px); }
        .btn-next:disabled { opacity: .6; cursor: not-allowed; transform: none; }

        /* â”€â”€ Success State â”€â”€ */
        .success-state { display: none; text-align: center; padding: 40px 35px; }
        .success-state.show { display: block; animation: stepIn .4s ease; }
        .success-circle {
            width: 100px; height: 100px; border-radius: 50%;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 20px;
            animation: popIn .5s cubic-bezier(0.175,0.885,0.32,1.275);
        }
        @keyframes popIn {
            from { transform: scale(0); } to { transform: scale(1); }
        }
        .success-circle i { font-size: 45px; color: #fff; }
        .success-state h3 { color: var(--dark); font-size: 22px; font-weight: 800; }
        .success-state p { color: #6b7280; font-size: 15px; }
        .summary-box {
            background: var(--light); border-radius: 12px;
            padding: 16px 20px; text-align: right; margin-top: 20px;
        }
        .summary-row {
            display: flex; justify-content: space-between;
            font-size: 14px; padding: 5px 0;
            border-bottom: 1px solid #dbeafe;
        }
        .summary-row:last-child { border-bottom: none; }
        .summary-row .label { color: #6b7280; }
        .summary-row .val { font-weight: 700; color: var(--dark); }

        /* â”€â”€ Floating WhatsApp â”€â”€ */
        .whatsapp-float {
            position: fixed; bottom: 30px; left: 30px;
            width: 58px; height: 58px; border-radius: 50%;
            background: #25D366; color: #fff;
            display: flex; align-items: center; justify-content: center;
            font-size: 26px; box-shadow: 0 4px 20px rgba(37,211,102,.5);
            cursor: pointer; transition: .3s; z-index: 9999;
            text-decoration: none;
        }
        .whatsapp-float:hover { transform: scale(1.1); color: #fff; }

        /* â”€â”€ Floating trigger â”€â”€ */
        .floating-trigger {
            position: fixed; bottom: 30px; right: 30px;
            background: var(--primary); color: #fff;
            border: none; border-radius: 50px;
            padding: 14px 24px; font-weight: 700; font-size: 15px;
            cursor: pointer; z-index: 9997;
            box-shadow: 0 6px 25px rgba(6,163,218,.5);
            font-family: 'Cairo', sans-serif;
            display: flex; align-items: center; gap: 10px;
            animation: bounce 2s ease infinite;
        }
        @keyframes bounce {
            0%,100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }
        .floating-trigger:hover { animation: none; transform: scale(1.05); }
        .pulse-dot {
            width: 10px; height: 10px; border-radius: 50%;
            background: #fff; position: relative;
        }
        .pulse-dot::after {
            content: ''; position: absolute; inset: -4px;
            border-radius: 50%; border: 2px solid #fff;
            animation: pulse-ring 1.5s ease infinite;
        }
    </style>
</head>
<body>

    <!-- Demo trigger center -->
    <div class="text-center">
        <p class="text-white mb-3" style="font-size:16px; opacity:.7;">Ø§Ù†Ù‚Ø± Ù„ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„</p>
        <button class="trigger-btn" onclick="openPopup()">
            <i class="fa fa-rocket me-2"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©
        </button>
    </div>

    <!-- Floating trigger (always visible) -->
    <button class="floating-trigger" onclick="openPopup()">
        <div class="pulse-dot"></div>
        Ø§Ø­Ø¬Ø² Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø¬Ø§Ù†ÙŠØ©
    </button>

    <!-- WhatsApp Float -->
    <a class="whatsapp-float" href="https://wa.me/201000000000" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• POPUP â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="popup-overlay" id="popupOverlay" onclick="handleOverlayClick(event)">
        <div class="popup-card" id="popupCard">

            <!-- Header -->
            <div class="popup-header">
                <button class="popup-close" onclick="closePopup()"><i class="fa fa-times"></i></button>
                <div class="brand"><span>Ajyal</span> ERP</div>
                <h3>Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹ Odoo Ø§Ù„Ø¢Ù† ğŸš€</h3>
                <p>Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ³ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ø¨ÙŠØ± Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©</p>
            </div>

            <!-- Progress -->
            <div class="progress-wrap">
                <div class="progress-steps">
                    <div class="step-dot active" id="dot1">1</div>
                    <div class="step-line"><div class="fill" id="line1"></div></div>
                    <div class="step-dot" id="dot2">2</div>
                    <div class="step-line"><div class="fill" id="line2"></div></div>
                    <div class="step-dot" id="dot3">3</div>
                </div>
                <div class="d-flex justify-content-between" style="margin-top:-6px; padding-bottom:10px;">
                    <div class="step-label active" id="lbl1">Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</div>
                    <div class="step-label" id="lbl2">Ø´Ø±ÙƒØªÙƒ</div>
                    <div class="step-label" id="lbl3">Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª</div>
                </div>
            </div>

            <!-- â”€â”€ STEP 1: Personal Info â”€â”€ -->
            <div class="popup-body" id="bodyWrap">
                <div class="form-step active" id="step1">
                    <div class="field-group">
                        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ <span>*</span></label>
                        <div class="input-icon">
                            <i class="fa fa-user"></i>
                            <input type="text" class="form-control" id="f-name" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯">
                        </div>
                        <div class="error-msg" id="e-name">Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„</div>
                    </div>
                    <div class="field-group">
                        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ / ÙˆØ§ØªØ³Ø§Ø¨ <span>*</span></label>
                        <div class="input-icon">
                            <i class="fa fa-phone-alt"></i>
                            <input type="tel" class="form-control" id="f-phone" placeholder="01x xxxx xxxx">
                        </div>
                        <div class="error-msg" id="e-phone">Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­</div>
                    </div>
                    <div class="field-group">
                        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <div class="input-icon">
                            <i class="fa fa-envelope"></i>
                            <input type="email" class="form-control" id="f-email" placeholder="example@company.com">
                        </div>
                    </div>
                </div>

                <!-- â”€â”€ STEP 2: Company Info â”€â”€ -->
                <div class="form-step" id="step2">
                    <div class="field-group">
                        <label>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© <span>*</span></label>
                        <div class="input-icon">
                            <i class="fa fa-building"></i>
                            <input type="text" class="form-control" id="f-company" placeholder="Ø§Ø³Ù… Ø´Ø±ÙƒØªÙƒ Ø£Ùˆ Ù†Ø´Ø§Ø·Ùƒ">
                        </div>
                        <div class="error-msg" id="e-company">Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</div>
                    </div>
                    <div class="field-group">
                        <label>Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ <span>*</span></label>
                        <select class="form-select" id="f-industry">
                            <option value="">Ø§Ø®ØªØ± Ù…Ø¬Ø§Ù„ Ø¹Ù…Ù„Ùƒ</option>
                            <option>Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª</option>
                            <option>Ø§Ù„Ù…ØµØ§Ù†Ø¹ ÙˆØ§Ù„ØªØµÙ†ÙŠØ¹</option>
                            <option>Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</option>
                            <option>Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</option>
                            <option>Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù„ÙˆØ¬Ø³ØªÙŠØ©</option>
                            <option>Ù…ÙƒØ§ØªØ¨ ÙˆØ®Ø¯Ù…Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</option>
                            <option>Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</option>
                            <option>Ø£Ø®Ø±Ù‰</option>
                        </select>
                        <div class="error-msg" id="e-industry">Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„</div>
                    </div>
                    <div class="field-group">
                        <label>Ø­Ø¬Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>
                        <select class="form-select" id="f-size">
                            <option value="">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</option>
                            <option>1 â€“ 10 Ù…ÙˆØ¸ÙÙŠÙ†</option>
                            <option>11 â€“ 50 Ù…ÙˆØ¸Ù</option>
                            <option>51 â€“ 200 Ù…ÙˆØ¸Ù</option>
                            <option>Ø£ÙƒØ«Ø± Ù…Ù† 200 Ù…ÙˆØ¸Ù</option>
                        </select>
                    </div>
                </div>

                <!-- â”€â”€ STEP 3: Services â”€â”€ -->
                <div class="form-step" id="step3">
                    <div class="field-group">
                        <label>Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ <span>*</span></label>
                        <div class="services-grid" id="servicesGrid">
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª">
                                <div class="check-box"></div>
                                <span>ğŸ“ˆ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª">
                                <div class="check-box"></div>
                                <span>ğŸ›’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                <div class="check-box"></div>
                                <span>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="CRM">
                                <div class="check-box"></div>
                                <span>ğŸ¤ CRM</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©">
                                <div class="check-box"></div>
                                <span>ğŸ‘¥ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©">
                                <div class="check-box"></div>
                                <span>ğŸ’¼ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª">
                                <div class="check-box"></div>
                                <span>âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</span>
                            </label>
                            <label class="service-check">
                                <input type="checkbox" value="Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹">
                                <div class="check-box"></div>
                                <span>ğŸª Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹</span>
                            </label>
                        </div>
                        <div class="error-msg" id="e-services">Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù†Ø¸Ø§Ù… ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
                    </div>
                    <div class="field-group">
                        <label>Ø£ÙŠ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©ØŸ</label>
                        <textarea class="form-control" id="f-notes" rows="3" placeholder="Ø£Ø®Ø¨Ø±Ù†Ø§ Ø£ÙƒØ«Ø± Ø¹Ù† Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ Ø£Ùˆ Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Success -->
            <div class="success-state" id="successState">
                <div class="success-circle"><i class="fa fa-check"></i></div>
                <h3>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰</h3>
                <p>Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ. Ø³ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙØ±ÙŠÙ‚ Ajyal Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</p>
                <div class="summary-box" id="summaryBox"></div>
                <a href="thankyou.html" class="btn btn-primary mt-4 py-2 px-5 rounded-pill" style="font-weight:700;">
                    Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ <i class="fa fa-arrow-left me-2"></i>
                </a>
            </div>

            <!-- Footer Buttons -->
            <div class="popup-footer" id="popupFooter">
                <button class="btn-prev" id="btnPrev" onclick="prevStep()" style="display:none;">
                    <i class="fa fa-arrow-right me-1"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                </button>
                <button class="btn-next" id="btnNext" onclick="nextStep()">
                    Ø§Ù„ØªØ§Ù„ÙŠ <i class="fa fa-arrow-left me-2"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentStep = 1;
        const totalSteps = 3;

        function openPopup() {
            document.getElementById('popupOverlay').classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        function closePopup() {
            document.getElementById('popupOverlay').classList.remove('open');
            document.body.style.overflow = '';
        }
        function handleOverlayClick(e) {
            if (e.target === document.getElementById('popupOverlay')) closePopup();
        }

        function updateProgress() {
            for (let i = 1; i <= totalSteps; i++) {
                const dot = document.getElementById('dot' + i);
                const lbl = document.getElementById('lbl' + i);
                dot.classList.remove('active', 'done');
                lbl.classList.remove('active');
                if (i < currentStep) { dot.classList.add('done'); dot.innerHTML = 'âœ“'; }
                else if (i === currentStep) { dot.classList.add('active'); dot.innerHTML = i; lbl.classList.add('active'); }
                else { dot.innerHTML = i; }
            }
            for (let i = 1; i < totalSteps; i++) {
                const fill = document.getElementById('line' + i);
                fill.style.width = (i < currentStep) ? '100%' : '0%';
            }
            document.getElementById('btnPrev').style.display = currentStep > 1 ? 'block' : 'none';
            document.getElementById('btnNext').innerHTML = currentStep === totalSteps
                ? 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ <i class="fa fa-paper-plane me-2"></i>'
                : 'Ø§Ù„ØªØ§Ù„ÙŠ <i class="fa fa-arrow-left me-2"></i>';
        }

        function validateStep(step) {
            let valid = true;
            if (step === 1) {
                const name = document.getElementById('f-name').value.trim();
                const phone = document.getElementById('f-phone').value.trim();
                setError('f-name', 'e-name', !name);
                setError('f-phone', 'e-phone', !phone || phone.length < 8);
                valid = name && phone && phone.length >= 8;
            }
            if (step === 2) {
                const company = document.getElementById('f-company').value.trim();
                const industry = document.getElementById('f-industry').value;
                setError('f-company', 'e-company', !company);
                setError('f-industry', 'e-industry', !industry);
                valid = company && industry;
            }
            if (step === 3) {
                const checked = document.querySelectorAll('#servicesGrid input:checked');
                const hasServices = checked.length > 0;
                document.getElementById('e-services').classList.toggle('show', !hasServices);
                valid = hasServices;
            }
            return valid;
        }

        function setError(fieldId, errId, show) {
            document.getElementById(fieldId).classList.toggle('error', show);
            document.getElementById(errId).classList.toggle('show', show);
        }

        function nextStep() {
            if (!validateStep(currentStep)) return;
            if (currentStep < totalSteps) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep++;
                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
            } else {
                submitForm();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep--;
                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
            }
        }

        function submitForm() {
            const name     = document.getElementById('f-name').value;
            const phone    = document.getElementById('f-phone').value;
            const company  = document.getElementById('f-company').value;
            const industry = document.getElementById('f-industry').value;
            const services = [...document.querySelectorAll('#servicesGrid input:checked')].map(i => i.value).join('ØŒ ');

            // Build summary
            document.getElementById('summaryBox').innerHTML = `
                <div class="summary-row"><span class="label">Ø§Ù„Ø§Ø³Ù…</span><span class="val">${name}</span></div>
                <div class="summary-row"><span class="label">Ø§Ù„Ù‡Ø§ØªÙ</span><span class="val">${phone}</span></div>
                <div class="summary-row"><span class="label">Ø§Ù„Ø´Ø±ÙƒØ©</span><span class="val">${company}</span></div>
                <div class="summary-row"><span class="label">Ø§Ù„Ù…Ø¬Ø§Ù„</span><span class="val">${industry}</span></div>
                <div class="summary-row"><span class="label">Ø§Ù„Ø£Ù†Ø¸Ù…Ø©</span><span class="val">${services}</span></div>
            `;

            // Hide form, show success
            document.getElementById('bodyWrap').style.display = 'none';
            document.getElementById('popupFooter').style.display = 'none';
            document.getElementById('successState').classList.add('show');

            // Update header
            document.querySelector('.popup-header h3').textContent = 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ! ğŸ‰';
            document.querySelector('.popup-header p').textContent = 'Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ù„Ù‰ ' + phone + ' Ù‚Ø±ÙŠØ¨Ù‹Ø§';
        }

        // Keyboard ESC close
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closePopup(); });
    </script>
</body>
</html>
